<a [routerLink]="'/'">
    <div class="dashboard-link">Dashboard</div>
</a>
<div class="container">
    <div class="text-center">
        <h1>Certificates</h1>
    </div>
    <div *ngIf="error" class="alert alert-danger">{{error}}</div>
    <div class="links">
        <a (click)="creatingCertificate = true">
            <button class="btn btn-default pull-right">Create new Certificate</button>
        </a>
    </div>
    <div *ngIf="creatingCertificate" class="certificate">
        <form #newCertificateForm="ngForm" (submit)="onCreateCertificate()">
            <input type="text" name="name" placeholder="Name" [(ngModel)]="newCertificateName" required>
            <button type="submit" class="btn btn-default" [disabled]="!newCertificateForm.form.valid">Create certificate</button>
        </form>
    </div>
    <div class="certificates" *ngIf="certificates.length > 0">
        <h2>Active certificates</h2>
        <ul>
            <li *ngFor="let certificate of certificates" class="row">
                <div class="col-md-10">
                    {{certificate.name}}
                </div>
                <div class="col-md-2">
                    <button (click)="onRevokeCertificate(certificate.id)" class="btn btn-default">Revoke certificate</button>
                </div>
            </li>
        </ul>
    </div>
    <div class="revoked-certificates" *ngIf="revokedCertificates.length > 0">
        <h2>Revoked certificates</h2>
        <ul>
            <li *ngFor="let certificate of revokedCertificates">
                {{certificate.name}}
            </li>
        </ul>
    </div>
</div>
